version: "2"
sql:
- schema: "migrations"
  queries: "internal/pkg/repository/query.sql"
  engine: "postgresql"
  gen:
    go: 
      out: "internal/pkg/repository"
      sql_package: "pgx/v5"
      emit_exact_table_names: true
      emit_json_tags: true
      overrides:
        - db_type: "uuid"
          go_type: "github.com/google/uuid.UUID"
        - column: "tab.guest_names"
          go_type:
            type: "map[int16]string"
        - column: "tab_with_orders.guest_names"
          go_type:
            type: "map[int16]string"
        - column: "tab_with_orders.orders"
          go_type:
            type: "OrderWithItems"
            slice: true
        - column: "order_with_items.items"
          go_type:
            type: "OrderItemWithMenu"
            slice: true
          